---
title: "レコードを更新または追加する"
date: 2018-01-22T16:07:50+09:00
weight: 1775
---

## 概要

指定アプリに対し、キーに一致するレコードがあれば更新し、なければ新しいレコードを追加します。

## 使い方

### 設定するパラメーター

「追加先アプリ」「キーとなるフィールド」「キーの値」「マッピング」を設定します。

#### 追加先アプリ

レコードを追加または更新するアプリを選択します。

#### キーとなるフィールド

レコードを取得する際のキーとなるフィールドを選択します。  
テーブル内のフィールドは選択できません。

#### キーの値

取得するレコードのキーの値を入力します。

#### マッピング

レコードに登録する情報を入力します。

このパラメーターの詳しい記述方法は[フィールドマッピングの記述方法](../../field_mapping/)を参照してください。

## 制限事項

以下のフィールドは、値を登録できません。

- チェックボックス
- 複数選択
- 添付ファイル
- ユーザー選択
- 組織選択
- グループ選択
- テーブル

### 競合の検出について

キーに一致するレコードが存在する場合、そのレコードを上書き保存しようとしますが、その際、更新の競合はチェックされます。

この「やること」と似ている「[レコードを更新する](../update_record/)」では、更新の競合をチェックするかどうかは設定で選択可能ですが、
この「レコードを更新または追加する」では競合をチェックしないようにはできません。

一方、キーに一致するレコードが存在しない場合、つまり**新規レコードが作成される場合は、競合はチェックされません**。

そのため、アクションを２人が同時に実行した場合、同じ内容の新規レコードが２つできてしまう可能性があります。
これを避けたい場合、kintone アプリの設定で、キーとなるフィールドの「値の重複を禁止する」をオンにしておくことを強くお勧めします。

