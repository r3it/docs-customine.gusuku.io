---
title: "数値をフォーマットする"
date: 2018-01-22T16:07:50+09:00
weight: 1510
---

## 概要

数値データを、指定の書式に変換します。

## 使い方

数値の元データは、式を使用して、フィールドや他のアクションの結果を参照することができます。

変換してできた文字列は、アクションの結果としてセットされます。

結果を取り出したい場合は、式を使用して、他のアクションで、このアクションを参照するようにします。

例えば「数値をフォーマットする」アクションが１番だった場合、「[フィールドに値をセットする](../../field/set_field_value/)」の「値」パラメーターなどで

```
=$1
```

のように指定すると、取り出すことができます。

また、結果の前後に単位記号などの文字列を追加したい場合も、式を使用して

```
="時価 " & $1 & " 円"
```

のようにします。

### 設定するパラメーター

「数値」「桁区切りを表示する」「整数部の桁数」「整数部をゼロ埋めするか」「小数点以下の桁数」「小数部をゼロ埋めするか」を指定します。

#### 数値

数値の値を指定します。

他のフィールドの値を参照したい場合

```
=数値_2
```

のように、「=」をつけてフィールドコードで参照してください。

この時、計算式で四則演算を行うことも可能です。

```
=数値_2 * 100
```


#### 桁区切りを表示する

「桁区切りを表示する」を表示すると、整数部分の３桁ごとにカンマを表示します。

#### 整数部の桁数

整数部分の表示桁数を指定します。
この桁数には、桁区切りのカンマや小数部分の桁数は含めません。

数値がこの桁数を超える場合、上位桁数が表示されません。
例えば、「整数部の桁数」を「3」と指定した場合、下３桁だけが表示されます。

何も指定しなかった場合、桁のカットやゼロ埋めはせずに、整数部分はそのまま表示します。

#### 整数部をゼロ埋めするか

「整数部の桁数」を指定した場合に、数値が桁数に満たない場合にゼロ埋めするかどうかを指定します。

「整数部の桁数」を指定しなかった場合、このパラメーターは無視されます。

「整数部の桁数」が「5」で数値が「512」の場合、ゼロ埋めすると「00512」となります。

整数部のゼロ埋めとカンマ区切りは組み合わせることができます。
カンマ区切りとゼロ埋め両方を「する」に設定すると、ゼロ埋め下部分にもカンマが入ります。
例えば「整数部の桁数」が「5」で数値が「1512」の場合、「01,512」となります。

#### 小数点以下の桁数

この桁数を指定すると、四捨五入で小数点以下を切り詰めます。

指定しなかった場合、内部で保持している桁数をすべて表示します。

#### 小数部をゼロ埋めするか

「小数点以下の桁数」を指定した場合に、指定桁数に満たない場合にゼロ埋めするかどうかを指定します。

「小数点以下の桁数」を指定しなかった場合、このパラメーターは無視されます。

例えば、「小数点以下の桁数」が３桁で、数値が「0.5」の場合、結果は「0.500」になります。