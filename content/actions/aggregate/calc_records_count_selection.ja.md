---
title: "レコード中のフィールド選択数をカウントする"
date: 2018-01-22T16:07:50+09:00
weight: 1145
---

## 概要

レコードの指定したフィールドで選択されている数をカウントします。カウントした結果は別のアクションで使用することができます。

## 使い方

チェックボックスやユーザー選択のように、複数の選択が可能なフィールドで、合計いくつの選択があるかを数えます。選択が１つもなければ０になります。

### 設定するパラメーター

「レコード選択アクション」「カウントするフィールド」「同じ値のカウント方法」「結果をセットするフィールド（省略可）」を設定します。

#### レコード選択アクション

アクションの一覧から、計算対象のレコードを取得したアクションを選択します。

#### カウントするフィールド

カウントするフィールドを選択します。

選択できるのは、チェックボックスやユーザー選択など、複数の選択が可能なフィールドに限られます。添付ファイルフィールドは選べません。

#### 同じ値のカウント方法

「同じ値でも別々にカウント」を選ぶと、選ばれている値に関係なく単に選択数を数えます。

「同じ値を１つとカウント」を選ぶと、同じ値を選んでいる行が2つ以上あっても、１つと数えます。つまり「何種類の値が選ばれているか」を数えることになります。

例えば、レコードが３レコードあって、「カウントするフィールド」の値が

- 1行目: A, B, C
- 2行目: X
- 3行目: Y, Z, A

となっていた場合、

- 「同じ値でも別々にカウント」ならば、カウント値は7 （3 + 3 + 1)
- 「同じ値を１つとカウント」ならばカウント値は6 （A, B, C, X, Y, Z の６種類。A は２回出ていますが１と数えます。）

となります。


#### 結果をセットするフィールド（省略可）

計算結果を他のフィールドにセットする場合に指定します。直接フィールドにはセットせず、計算結果を別のアクションで使用したい場合は、省略できます。
