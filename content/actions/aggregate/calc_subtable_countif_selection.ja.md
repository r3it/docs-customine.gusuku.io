---
title: "条件に合うテーブル行のフィールド選択数をカウントする"
date: 2018-01-22T16:07:50+09:00
weight: 1095
---

## 概要

テーブルの条件に合う行の指定したフィールドで選択されている数をカウントします。カウントした結果は別のアクションで使用することができます。

## 使い方

チェックボックスやユーザー選択のように、複数の選択が可能なフィールドで、合計いくつの選択があるかを数えます。選択が１つもなければ０になります。

### 設定するパラメーター

「カウントするフィールド」「同じ値のカウント方法」「条件判定フィールド」「条件」「比較値」「結果をセットするフィールド（省略可）」を設定します。

#### カウントするフィールド

カウントするフィールドを選択します。

選択できるのは、チェックボックスやユーザー選択など、複数の選択が可能なフィールドに限られます。添付ファイルフィールドは選べません。

#### 同じ値のカウント方法

「同じ値でも別々にカウント」を選ぶと、選ばれている値に関係なく単に選択数を数えます。

「同じ値を１つとカウント」を選ぶと、同じ値を選んでいる行が2つ以上あっても、１つと数えます。つまり「何種類の値が選ばれているか」を数えることになります。

例えば、テーブルに行が３行あって、「カウントするフィールド」の値が

- 1行目: A, B, C
- 2行目: X
- 3行目: Y, Z, A

となっていた場合、

- 「同じ値でも別々にカウント」ならば、カウント値は7 （3 + 3 + 1)
- 「同じ値を１つとカウント」ならばカウント値は6 （A, B, C, X, Y, Z の６種類。A は２回出ていますが１と数えます。）

となります。

#### 条件判定フィールド

テーブル内フィールドから、条件判定に使用するフィールドを選択します。

#### 条件

「条件」は以下の選択肢から選択します。

<a href="https://support.gusuku.io/ja-JP/support/solutions/articles/36000045806" target="_blank">フィールドの条件一覧はこちらを参照</a>してください。

#### 比較値
「比較値」は、フィールド値と比較する値を設定します。
比較値には以下のいずれかの値を指定することができます。

- 直接入力  
比較値を直接入力します
- フィールド選択  
同一レコードの他のフィールド値と比較します
- 他のアクションの結果  
登録済みのアクションの結果値と比較します

##### 比較処理について
 - 比較の際、前後のスペースは無視されます。
 - 文字列は、Unicode値を用いて標準の辞書式順に基いて比較されます。
 ただし全角半角、大文字小文字は区別されません。

#### 結果をセットするフィールド（省略可）

計算結果を他のフィールドにセットする場合に指定します。直接フィールドにはセットせず、計算結果を別のアクションで使用したい場合は、省略できます。
