---
title: "自動採番を行う"
date: 2018-01-22T16:07:50+09:00
weight: 1560
---

## 概要

自動的に採番を行ってフィールドにセットします。

## 使い方

アクションが実行されると、採番用のサーバーに通信を行い、取得した値を指定フィールドにセットします。

通信が発生しますので、通信環境によっては値がセットされるまで少し時間がかかる場合があります。

### 設定するパラメーター

「フィールド」および採番ルールを決めるパラメーターを設定します。

#### フィールド

採番した値をセットする先のフィールドを選択します。

フィールドの値は、ゼロ埋めなどのフィーマットされた状態でセットされます。

すぐにはフィールドに値をセットせずに、採番した値を別のアクションで使用したいなどの場合、このパラメーターは省略することができます。

#### アプリ単位の採番

「なし」を選んだ場合、採番される番号はドメイン全体での連番になります。

「アプリ単位で採番」を選ぶと、連番はアプリ毎に管理されます。

#### ゼロ埋め

ゼロ埋めする場合、次の桁数で指定した桁数に満たない場合にゼロ埋めされます。

ゼロ埋め「する」の場合、桁数は必ず１以上の値を設定してください。

例えばゼロ埋め「する」で桁数「8」の場合、採取した番号が「1」だったら、フィールドに「00000001」という値がセットされます。

#### 桁数

ゼロ埋めする場合の最大桁数を指定します。ゼロ埋めしない場合はこのパラメーターは無視されます。

採取した番号がこの桁数を超えた場合、桁数のカットは__行われません__。
例えば桁数「3」で「1234」という番号が採取された場合、「123」や「234」にカットされるのではなく、「1234」という値がそのままセットされます。

#### 前につける文字列（プレフィックス）

採取した番号の手前に固定文字列を付けたい場合に指定します。

#### 後ろにつける文字列（サフィックス）

採取した番号の後ろに固定文字列を付けたい場合に指定します。

#### 採番サイクル

「なし」を選ぶと番号がリセットされることはありません。

「月単位で採番」を選ぶと、翌月には連番が１にリセットされます。

「年単位で採番」を選ぶと、年初の１月１日に連番が１にリセットされます。
「年度」ではなく「年」なので注意してください。

#### タイムゾーン

採番サイクルで月単位や年単位を選んだ場合、どの国・地域の時刻を基準にするかを選択します。

### 制限事項

「フィールド」で選択できるフィールドタイプは以下の通りです。

- 文字列（1行）
- 数値

数値を選んだ場合、プレフィックスやサフィックスをつけると、アクション実行時にエラーになります。
