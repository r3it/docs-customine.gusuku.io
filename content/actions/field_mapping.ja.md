---
title: "フィールドマッピングの記述方法"
date: 2018-01-15T17:07:50+09:00
---

## 概要

「フィールドマッピング」は、「[レコードを追加する](../record/insert_record/)」や「[テーブル行を別アプリのレコードへ書き出す](../record/expand_table)」のように、レコードの書き出しを行う「やること」で、書き出すレコードの内容を定義するパラメーターです。

## フィールドマッピングの記述方法

![フィールドマッピング](/images/ja/actions/field_mapping/1.png)

図のような画面がポップアップします。

右辺側が書き出すレコードのフィールドを表します。表示されているフィールドは、値をセット可能なものに限られています。「レコード番号」のように、値をセットできないフィールドは表示されません。

「セットする値」にセットしたい値を記述します。

### セットする値

固定値、または式でセットする値を記述します。

「ｆ」ボタンを押すと現在カスタマイズしているアプリのフィールドを選択でき、フィールドを参照する式が入力されます。

「ａ」ボタンを押すと他のアクションを選択でき、アクションの結果値を参照する式が入力されます。

式は手で入力することもできます。

例）

- 固定の文字列を入力する場合は「"」で囲ってください。
```
="西暦2018年"
```

- フィールドを参照する場合は、フィールドコードを指定します。
```
= 文字列_1行_1
= 数値_2
```

- 他アクションの結果を使用する場合は「$アクション番号」や「$アクション番号.フィールドコード」で参照できます。
```
= $1
= $2.文字列_1行_1
```

- 文字を結合する場合は「&」でつなぎます。
```
= "西暦" & $1.数値 & "年"
```

- 計算結果を登録する場合は演算子を使用します。
```
= (数値_1 * 数値_2) * 180 / 3.1416
```

- today()やnow()、format()関数を使用することも可能です。
```
= format(today(), 'M月D日')
```

- チェックボックスや複数選択フィールドで、複数の値を選択する場合は、[] を使用します。
```
= ['sample1', 'sample2']
```

- 添付ファイルをセットしたい場合、「[添付ファイルをコピーする](../field/copy_attachment/)」をセットしたアクションを用いて、「$アクション番号」で指定します。
```
= $1
```

### 空白をセットしたい場合

「セットする値」欄を空にすると、空の値を出力するのではなく、そのフィールドを出力しません。例えば「[レコードを更新する](../record/update_record/)」で使う場合、元のフィールドを空白に置き換えるのではなく、元のフィールドの値を維持するという意味になります。

これに対し、空白をセットしたい場合は、「セットする値」を以下のように指定してください。

```
=""
```


## 制限事項

以下のフィールドは、値を登録できません。

- レコード番号など、もともと値を変更できないタイプのフィールド
- 添付ファイル
- ステータス
- カテゴリー
- テーブル