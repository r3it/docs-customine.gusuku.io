---
title: "日付を計算する"
date: 2018-01-22T16:07:50+09:00
weight: 1450
---

## 概要

日付に日数、月数、年数を加算したり減算したりします。結果は他のアクションから参照できます。

## 使い方

計算結果を別のフィールドに入れたい場合、「セット先フィールド（省略可）」パラメーターにそのフィールドを選択します。

計算結果をすぐフィールドに入れるのではなく、他のアクションで使いたい場合は数式を利用します。

「日付を計算する」をセットしたアクションを実行すると、アクションの結果としてその日付が内部に保存されます。

保存された日付は、数式を使用して、「=$1」などで取得できます。

保存された日付は、kintone の日付フィールドにそのままセットできる形式になっています。
ただし時刻の情報はありませんので、日時フィールドにセットすることはできません。

例）計算結果の日付を、他のアクション（「[レコードを追加する](../../record/insert_record/)」）で使用する例

1. 「日付を計算する」を設置します。アクション番号が１番だったとします。
2. 「[レコードを追加する](../../record/insert_record/)」の「マッピング」で、セットしたい日付フィールドに対して「=$1」と入れます。
    （「日付を計算する」のアクション番号が２番だったら、「=$2」とします）

### 設定するパラメーター

「基準日」「右辺値」「計算内容」を設定します。

#### 基準日

基準となる日付を入力します。

日付フィールドや日時フィールドの値を参照したい場合

```
=日付_2
```

のように、「=」をつけてフィールドコードで参照してください。

現在の日付の日付を基準としたい場合は

```
=today()
```

と入力します。

#### 右辺値

加算したい日数・月数・年数の数値を整数で指定します。

例えば、「基準日から３か月後」を計算したい場合は、「計算内容」で「○か月後」を選択し、「右辺値」を「3」にします。

マイナスの値を入力することも可能です。「右辺値」を「-3」にし、「計算内容」を「○か月後」とした場合、「基準日から３か月前」が計算されます。

#### 計算内容

「○日後」「○週後」「○か月後」「○年後」から選択します。

#### セット先フィールド（省略可）

計算結果を他のフィールドにセットする場合に指定します。直接フィールドにはセットせず、計算結果を別のアクションで使用したい場合は、省略できます。
