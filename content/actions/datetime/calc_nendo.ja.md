---
title: "年度を計算する"
date: 2018-01-22T16:07:50+09:00
weight: 1460
---

## 概要

指定の日付の年度を計算します。結果は他のアクションから参照できます。

## 使い方

計算結果を別のフィールドに入れたい場合、「セット先フィールド（省略可）」パラメーターにそのフィールドを選択します。

計算結果をすぐフィールドに入れるのではなく、他のアクションで使いたい場合は数式を利用します。

「年度を計算する」をセットしたアクションを実行すると、アクションの結果としてその日付が内部に保存されます。

保存された年度は、数式を使用して、「=$1」などで取得できます。

例）計算結果の年度を、他のアクション（「[レコードを追加する](../../record/insert_record/)」）で使用する例

1. 「年度を計算する」を設置します。アクション番号が１番だったとします。
2. 「[レコードを追加する](../../record/insert_record/)」の「マッピング」で、セットしたいフィールドに対して「=$1」と入れます。
    （「年度を計算する」のアクション番号が２番だったら、「=$2」とします）

### 設定するパラメーター

「日付」「年度開始月」「セット先フィールド（省略可）」を設定します。

#### 日付

年度を計算する日付を入力します。

日付フィールドや日時フィールドの値を参照したい場合

```
=日付_2
```

のように、「=」をつけてフィールドコードで参照してください。

現在の日付の日付を基準としたい場合は

```
=today()
```

と入力します。

#### 年度開始月

年度開始月を選択します。

例えばこの月に10月を選ぶと、2018年10月～2019年9月が2018年度とみなされます。

#### セット先フィールド（省略可）

計算結果を他のフィールドにセットする場合に指定します。直接フィールドにはセットせず、計算結果を別のアクションで使用したい場合は、省略できます。
