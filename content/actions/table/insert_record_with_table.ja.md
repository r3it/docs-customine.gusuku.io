---
title: "テーブルデータをセットしたレコードを追加する"
date: 2018-03-06T12:01:14+09:00
weight: 1020
---

## 概要

指定アプリに対し、テーブルデータをセットした状態でレコードを新規作成します。

## 使い方

「テーブルデータをセットしたレコードを追加する」は「[レコードを追加する](../../record/insert_record)」に対しいくつかの機能追加を行ったものになります。

- 「[レコードを追加する](../../record/insert_record)」ではテーブルに初期値を入れることができません。「テーブルデータをセットしたレコードを追加する」ではテーブルに初期値をセットした状態でレコードを追加できます。

- 「テーブルデータをセットしたレコードを追加する」では、追加したレコードの編集画面に即移動することができます。

これらの機能が必要ない場合は「[レコードを追加する](../../record/insert_record)」の方が簡単です。

### 設定するパラメーター

「追加先アプリ」「レコードに対するマッピング」「テーブル」「テーブルの元になるレコード」「テーブルに対するマッピング」「画面遷移」を指定します。

#### 追加先アプリ

レコードを追加するアプリを選択します。

#### レコードに対するマッピング

追加するレコードの各フィールド値を設定します。

ただしここではテーブルの値は設定できません。テーブルの値は、後の「テーブルに対するマッピング」で設定します。

このマッピングにおいて、

```
= フィールドコード
```

と記述した場合、フィールドコードは「カスタマイズ中のアプリのフィールド」になります。

#### テーブル

初期値を設定するテーブルを選びます。

複数選ぶことはできません。

#### テーブルの元になるレコード

テーブルのデータを作成する際の元になるレコードを指定します。

#### テーブルに対するマッピング

テーブルのデータをセットするマッピングを定義します。

このマッピングにおいて、

```
= フィールドコード
```

と記述した場合、フィールドコードは「テーブルの元になるレコードのフィールド」になります。

#### 画面遷移

レコードを作成した後、そのレコードの編集画面に移動するかどうかを選びます。

### 例

「テーブルデータをセットしたレコードを追加する」でテーブルのデータをセットしたい場合、まず、テーブルデータの元になるレコードを取得します。

例えば、カスタマイズ中のアプリの編集画面から別のアプリのレコードを作成し、その際にカスタマイズ中のアプリのテーブルから別アプリの新しいレコードにテーブルデータをコピーしたい、というケースを考えます。

この例の場合、「テーブルデータの元になるレコード」とは、カスタマイズ中のアプリのテーブルデータになります。
なので、「[テーブル行をレコードとして取得する](../get_record_from_table)」を使って、カスタマイズ中のアプリのテーブルから各行のデータを取得しておきます。

次に、「テーブルデータをセットしたレコードを追加する」の「テーブルの元になるレコード」パラメーターで、「[テーブル行をレコードとして取得する](../get_record_from_table)」のアクションを指定します。

そして、「テーブルに対するマッピング」では、取得元のテーブルの列から、作成先のアプリのテーブルへ値をコピーするように、マッピングを定義します。


## 制限事項

2つ以上のテーブルに対して一度にデータを設定することはできません。

レコードは作成された状態で編集画面に遷移しますので、編集画面で「キャンセル」を押しても作成されたレコードは残ります。

カスタマイズ中のアプリと、レコードを作成するアプリの kintone スペースが異なっていて、作成先がゲストスペース場合はエラーになります。

「画面遷移」パラメーターで、「作成したレコードの編集画面を別タブで開く」とした場合、ブラウザーのポップアップブロック機能により、タブがブロックされてしまう場合があります。
その場合、ブラウザーの設定にて、ご使用の kintone ドメインにおいてポップアップを許可してください。


## 既知の問題

スマートフォン版の画面で使用した場合、画面遷移の遷移先が編集画面ではなく一覧画面になってしまう問題を確認しています。

